(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,n,t){e.exports=t("56d7")},"0f9a":function(e,n,t){"use strict";t.r(n);t("b0c0"),t("d3b7"),t("498a"),t("96cf");var r=t("1da1"),a=t("c24f"),c=t("5f87"),o=t("a18c"),i={token:Object(c["a"])(),name:"",avatar:"",introduction:"",roles:[]},u={SET_TOKEN:function(e,n){e.token=n},SET_INTRODUCTION:function(e,n){e.introduction=n},SET_NAME:function(e,n){e.name=n},SET_AVATAR:function(e,n){e.avatar=n},SET_ROLES:function(e,n){e.roles=n}},d={login:function(e,n){var t=e.commit,r=n.username,o=n.password;return new Promise((function(e,n){Object(a["a"])({username:r.trim(),password:o}).then((function(n){var r=n.data;t("SET_TOKEN",r.token),Object(c["c"])(r.token),e(n)})).catch((function(e){n(e)}))}))},getInfo:function(e){var n=e.commit,t=e.state;return new Promise((function(e,r){Object(a["d"])(t.token).then((function(t){var a=t.data;a||r("Verification failed, please Login again.");var c=a.roles,o=a.name,i=a.avatar,u=a.introduction;(!c||c.length<=0)&&r("getInfo: roles must be a non-null array!"),n("SET_ROLES",c),n("SET_NAME",o),n("SET_AVATAR",i),n("SET_INTRODUCTION",u),e(a)})).catch((function(e){r(e)}))}))},logout:function(e){var n=e.commit;e.state,e.dispatch;n("SET_TOKEN",""),n("SET_ROLES",[]),Object(c["b"])(),Object(o["c"])(),o["b"].push({path:"/login",query:{redirect:"/"}})},resetToken:function(e){var n=e.commit;return new Promise((function(e){n("SET_TOKEN",""),n("SET_ROLES",[]),Object(c["b"])(),e()}))},changeRoles:function(e,n){var t=e.commit,a=e.dispatch;return new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){var i,u,d,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n+"-token",t("SET_TOKEN",i),Object(c["c"])(i),e.next=5,a("getInfo");case 5:return u=e.sent,d=u.roles,Object(o["c"])(),e.next=10,a("permission/generateRoutes",d,{root:!0});case 10:s=e.sent,o["b"].addRoutes(s),a("tagsView/delAllViews",null,{root:!0}),r();case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}};n["default"]={namespaced:!0,state:i,mutations:u,actions:d}},4360:function(e,n,t){"use strict";t("13d5"),t("d3b7"),t("ac1f"),t("5319"),t("ddb0");var r=t("8bbf"),a=t.n(r),c=t("5880"),o=t.n(c),i=(t("b0c0"),{sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},articleMenu:function(e){return e.app.articleMenu}}),u=i;a.a.use(o.a);var d=t("c653"),s=d.keys().reduce((function(e,n){var t=n.replace(/^\.\/(.*)\.\w+$/,"$1"),r=d(n);return e[t]=r.default,e}),{}),l=new o.a.Store({modules:s,getters:u});n["a"]=l},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],c=(t("5c0b"),t("2877")),o={},i=Object(c["a"])(o,r,a,!1,null,null,null),u=i.exports,d=t("a18c"),s=t("4360"),l=(t("8e1f"),t("3f08")),f=t("b2d8"),m=t.n(f),h=(t("64e1"),t("4160"),t("159b"),t("1487")),p=t.n(h),b=(t("eba2"),{install:function(e,n){e.directive("highlight",(function(e){var n=e.querySelectorAll("pre code");n.forEach((function(e){p.a.highlightBlock(e)}))}))}}),g=b,v=t("94d3"),T=t.n(v),k=t("77ed"),O=t.n(k);Vue.prototype.$http=axios,Vue.use(O.a),Vue.use(m.a),Vue.use(l["a"].Plugin),Vue.use(g),Vue.use(T.a),Vue.config.productionTip=!1,new Vue({router:d["b"],store:s["a"],render:function(e){return e(u)}}).$mount("#app")},5880:function(e,n){e.exports=Vuex},"5c0b":function(e,n,t){"use strict";var r=t("9c0c"),a=t.n(r);a.a},"5f72":function(e,n){e.exports=ELEMENT},"5f87":function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return u}));var r=t("a78e"),a=t.n(r),c="Jianyang-Token";function o(){return a.a.get(c)}function i(e){return a.a.set(c,e)}function u(){return a.a.remove(c)}},6389:function(e,n){e.exports=VueRouter},"8bbf":function(e,n){e.exports=Vue},"8e1f":function(e,n,t){},"94d3":function(e,n){},"9c0c":function(e,n,t){},a18c:function(e,n,t){"use strict";t("99af");var r=t("2909"),a=t("8bbf"),c=t.n(a),o=t("6389"),i=t.n(o),u=(t("d3b7"),function(){return t.e("chunk-35e92afd").then(t.bind(null,"c1f7"))}),d=function(){return t.e("chunk-0b64a0a8").then(t.bind(null,"717f"))},s=function(){return t.e("chunk-1995c048").then(t.bind(null,"edb6"))},l=function(){return t.e("chunk-2d0cebfb").then(t.bind(null,"617a"))},f=function(){return t.e("chunk-0bdada98").then(t.bind(null,"faa7"))},m=function(){return t.e("chunk-3dd690fa").then(t.bind(null,"31bf"))},h=function(){return t.e("chunk-074d6724").then(t.bind(null,"3952"))},p=function(){return t.e("chunk-6893ebdb").then(t.bind(null,"032d"))},b=function(){return t.e("chunk-b8263412").then(t.bind(null,"5cff"))},g=function(){return t.e("chunk-05d6ba00").then(t.bind(null,"1d90"))},v=function(){return t.e("chunk-45883a8c").then(t.bind(null,"089f"))},T=function(){return t.e("chunk-cebb44e0").then(t.bind(null,"dfd4"))},k=function(){return t.e("chunk-27c0c39e").then(t.bind(null,"e378"))},O=[{path:"/admin/login",name:"Login",component:s,hidden:!0},{path:"/admin/404",name:"404",component:l,hidden:!0},{path:"/admin/",name:"AdminHome",component:u,redirect:"/admin/index",children:[{path:"index",name:"Dashboard",component:d,meta:{title:"首页",icon:"el-icon-s-data"}}]},{path:"/admin/personal",name:"Personal",component:u,redirect:"/admin/personal/index",children:[{path:"index",name:"Personal-home",component:f,meta:{title:"个人中心"},hidden:!0}]},{path:"/admin/driver",name:"Driver",component:u,redirect:"/admin/driver/index",children:[{path:"index",name:"Driver-home",component:m,meta:{title:"引导指南",icon:"el-icon-s-flag"}}]},{path:"/admin/article",name:"Article",component:u,redirect:"/admin/article/add",meta:{title:"文章",icon:"el-icon-tickets"},children:[{path:"add",name:"Add article",component:h,meta:{title:"写文章",icon:"el-icon-edit"}},{path:"manage",name:"Manage article",component:p,meta:{title:"文章管理",icon:"el-icon-s-management"}},{path:"delete",name:"Delete article",component:b,meta:{title:"回收站",icon:"el-icon-delete"}}]},{path:"/admin/article_detail",name:"article_detail_blog",component:u,redirect:"/admin/article_detail/index",children:[{path:"index",name:"article_detail",component:g,meta:{title:"文章详情"},hidden:!0}]},{path:"/admin/tag",name:"Tag",component:u,redirect:"/admin/tag/index",children:[{path:"index",name:"Manage Tag",component:v,meta:{title:"分类/标签",icon:"el-icon-collection-tag"}}]},{path:"/admin/comment",name:"Comment",component:u,redirect:"/admin/comment/index",children:[{path:"index",name:"Manage Comment",component:T,meta:{title:"评论",icon:"el-icon-chat-line-round"}}]},{path:"/admin/user",name:"User",component:u,redirect:"/admin/user/index",children:[{path:"index",name:"Manage User",component:k,meta:{title:"用户",icon:"el-icon-user"}}]}],x=function(){return t.e("chunk-4409fddd").then(t.bind(null,"ba65"))},E=function(){return t.e("chunk-37baf4b3").then(t.bind(null,"0dc0"))},j=function(){return t.e("chunk-5a2b72df").then(t.bind(null,"8695"))},S=function(){return t.e("chunk-8a71f3b4").then(t.bind(null,"fa47"))},w=function(){return t.e("chunk-866eceba").then(t.bind(null,"fbbc"))},_=function(){return t.e("chunk-e3c27ac4").then(t.bind(null,"40d7"))},A=[{path:"/",name:"BlogHome",component:x,redirect:"/home",children:[{path:"home",name:"Blog-Home",component:E}]},{path:"/tag",name:"BlogTag",component:x,redirect:"/tag/index",children:[{path:"index",name:"Blog-Tag",component:j}]},{path:"/about",name:"BlogAbout",component:x,redirect:"/about/index",children:[{path:"index",name:"Blog-About",component:S}]},{path:"/archives",name:"BlogArchives",component:x,redirect:"/archives/index",children:[{path:"index",name:"Blog-Archives",component:w}]},{path:"/article",name:"BlogArticle",component:x,redirect:"/article/index",children:[{path:"index",name:"Blog-Article",component:_}]}];t.d(n,"a",(function(){return R})),t.d(n,"c",(function(){return V})),c.a.use(i.a);var M=Object(r["a"])(A),R=Object(r["a"])(O),N=function(){return new i.a({routes:R,scrollBehavior:function(){return{x:0,y:0}}})};function V(){var e=N();B.matcher=e.matcher}var B=new i.a({routes:[].concat(Object(r["a"])(R),Object(r["a"])(M))});n["b"]=B},b775:function(e,n,t){"use strict";t("d3b7"),t("ac1f"),t("5319");var r=t("cebe"),a=t.n(r),c=t("5f72"),o=t("4360"),i=t("5f87"),u=t("a18c"),d=a.a.create({timeout:5e3});d.interceptors.request.use((function(e){return o["a"].getters.token&&(e.headers["authorization"]=Object(i["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),d.interceptors.response.use((function(e){var n=e.data;return 2e4===n.code||2e4!==n.code&&void 0!==n.key?n:(50008!==n.code&&50012!==n.code&&50014!==n.code||c["MessageBox"].confirm("登陆失效，请重新登陆","登陆失效",{confirmButtonText:"重新登陆",type:"warning"}).then((function(){o["a"].dispatch("user/resetToken").then((function(){u["b"].replace({path:"/admin/login"})}))})),Promise.reject(n.message||"Error"))}),(function(e){return console.log("err"+e),Object(c["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),n["a"]=d},c24f:function(e,n,t){"use strict";t.d(n,"e",(function(){return a})),t.d(n,"a",(function(){return c})),t.d(n,"d",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"b",(function(){return d}));var r=t("b775");function a(){return Object(r["a"])({url:"/api/user",method:"get"})}function c(e){return Object(r["a"])({url:"/api/user/login",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/api/user/info",method:"get",params:{token:e}})}function i(e){return Object(r["a"])({url:"/api/user/".concat(e),method:"delete"})}function u(e){return Object(r["a"])({url:"/api/user/".concat(e._id),method:"put",data:e})}function d(e){return Object(r["a"])({url:"/api/user",method:"post",data:e})}},c653:function(e,n,t){var r={"./app.js":"d9cd","./user.js":"0f9a"};function a(e){var n=c(e);return t(n)}function c(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id="c653"},cebe:function(e,n){e.exports=axios},d9cd:function(e,n,t){"use strict";t.r(n);var r=t("2909"),a=(t("a78e"),t("a18c")),c={opend:!1,routes:a["a"],message:!1,articleMenu:!1,articleMenuSource:[],articleMenuTag:"1.",showRightNav:!1,qiniuToken:""},o={toggleOpen:function(e,n){e.opend=n},SET_ROUTES:function(e,n){e.routes=Object(r["a"])(n),e.addRoutes=n},SET_MESSAGE:function(e){e.message=!e.message}},i={setArticleMenu:function(e,n){e.state.articleMenu=n},setArticleMenuSource:function(e,n){e.state.articleMenuSource=n},setArticleMenuTag:function(e,n){e.state.articleMenuTag=n},setShowRightNav:function(e,n){e.state.showRightNav=n}};n["default"]={namespaced:!0,state:c,mutations:o,actions:i}}},[[0,"runtime","chunk-vendors"]]]);